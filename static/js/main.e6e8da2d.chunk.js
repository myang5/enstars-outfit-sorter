(this["webpackJsonpenstars-outfit-sorter"]=this["webpackJsonpenstars-outfit-sorter"]||[]).push([[0],{13:function(e,t,a){e.exports=a(19)},18:function(e,t,a){},19:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),s=a(10),l=a.n(s),i=(a(18),a(11)),c=a(3),o=a(4),u=a(1),h=a(7),f=a(6);function p(e){var t=e.toggleValue();return n.a.createElement("div",{className:"sidebar"},n.a.createElement(g,{id:"attrOpts",optionsArr:e.attributes,toggleValue:t("selAttr")}),n.a.createElement("div",{className:"options"},n.a.createElement("h3",null,"Filter data by...")),n.a.createElement(m,{toggleTrue:e.toggleTrue,toggleFalse:e.toggleFalse}),n.a.createElement(v,{id:"unitOpts",heading:"Unit",optionsArr:e.units,selected:e.selUnits,toggleValue:t("selUnits")}),n.a.createElement(v,{id:"charaOpts",heading:"Character",optionsArr:e.characters,selected:e.selCharas,toggleValue:t("selCharas")}),n.a.createElement(v,{id:"outfitOpts",heading:"Outfit Type",optionsArr:e.outfitTypes,selected:e.selOutfits,toggleValue:t("selOutfits")}))}function m(e){return n.a.createElement("div",{className:"options"},n.a.createElement("div",{className:"radioBtn"},n.a.createElement("input",{type:"radio",name:"searchType",id:"false",onClick:e.toggleFalse,defaultChecked:!0}),n.a.createElement("label",{htmlFor:"false"},"Strict match ",n.a.createElement("br",null),n.a.createElement("span",{className:"desc"},"(find outfits that match all search criteria)"))),n.a.createElement("div",{className:"radioBtn"},n.a.createElement("input",{type:"radio",name:"searchType",id:"true",onClick:e.toggleTrue}),n.a.createElement("label",{htmlFor:"true"},"Inclusive match ",n.a.createElement("br",null),n.a.createElement("span",{className:"desc"},"(find outfits that match 1 or more criteria)"))))}function g(e){var t=e.optionsArr.map((function(t){if(t)return n.a.createElement("div",{key:t},n.a.createElement("input",{type:"checkbox",value:t,onClick:e.toggleValue}),n.a.createElement("label",{htmlFor:t},t))}));return n.a.createElement("div",{className:"options",id:e.id},n.a.createElement("h3",null,"Stat Bonus"),t)}function v(e){e.optionsArr.indexOf(e.heading)>-1&&e.optionsArr.splice(e.optionsArr.indexOf(e.heading),1,"");var t=e.optionsArr.map((function(e){if(e)return n.a.createElement("option",{key:e,value:e},e)})),a=Array.from(e.selected).map((function(t){return n.a.createElement(d,{key:t,value:t,toggleValue:e.toggleValue})}));return n.a.createElement("div",{className:"options",id:e.id},n.a.createElement("h4",null,e.heading),n.a.createElement("select",{className:"options",defaultValue:"none",onChange:e.toggleValue},n.a.createElement("option",{disabled:!0,value:"none"},"(select an option)"),t),n.a.createElement("div",null,a))}function d(e){return n.a.createElement("div",{className:"toggleOpt"},n.a.createElement("span",null,e.value),n.a.createElement("button",{className:"cancelBtn",value:e.value,onClick:e.toggleValue},"X"))}var y=a(8),E=a(12);var b="AIzaSyBYN0YVkl2lB5ps2CL_74JKIs5TOukXdm4",O="1JeHlN1zcBwyBbBkyfsDiiqDZpLotkn770ewa1JCsekU",k=function(e){Object(h.a)(a,e);var t=Object(f.a)(a);function a(e){var r;return Object(c.a)(this,a),(r=t.call(this,e)).state={isLoaded:!1,outfits:[],status:""},r}return Object(o.a)(a,[{key:"componentDidUpdate",value:function(e){var t=this;if(this.props.query!==e.query){fetch("https://sheets.googleapis.com/v4/spreadsheets/".concat(O,"/values/").concat("Stat Bonuses","?key=").concat(b)).then((function(e){return e.json()})).then((function(e){t.setState((function(a,r){var n=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=t.query||[],r=t.integers||!0,n=t.isInclusive||!1,s=[];if(e){var l=e.values[0];n&&a.length&&(a=new Set(a.reduce((function(e,t){return e.concat(Object(E.a)(t))}),[])));for(var i=function(t){var i=e.values[t],c=!1;if(0===a.size||0===a.length)c=!0;else if(n){for(var o=0;o<i.length;o++)if(a.has(i[o])){c=!0;break}}else{c=a.map((function(e){for(var t=0;t<i.length;t++)if(e.has(i[t]))return!0})).reduce((function(e,t){return e&&t}),!0)}if(c){for(var u={},h=0;h<i.length;h++){var f=l[h],p=i[h];!0!==r||isNaN(p)||(p=Number(p)),u[f.toLowerCase()]=p}s.push(u)}},c=1;c<e.values.length;c++)i(c);return s}}(e,{query:t.props.stringQuery,isInclusive:t.props.isInclusive});if(t.props.selAttr.size>0)for(var s=n.length-1;s>=0;s--){var l,i=!1,c=Object(y.a)(t.props.selAttr);try{for(c.s();!(l=c.n()).done;){var o=l.value;if(n[s][o.toLowerCase()]){i=!0;break}}}catch(u){c.e(u)}finally{c.f()}i||n.splice(s,1)}return n.sort((function(e,a){var r,n=0,s=0,l=Object(y.a)(t.props.selAttr);try{for(l.s();!(r=l.n()).done;){var i=r.value;n+=e[i.toLowerCase()],s+=a[i.toLowerCase()]}}catch(u){l.e(u)}finally{l.f()}return s-n})),{isLoaded:!0,outfits:n,status:"".concat(n.length," outfits found")}}))}))}}},{key:"render",value:function(){var e=this,t=null;if(this.state.isLoaded){var a=this.state.outfits.map((function(t){return n.a.createElement(A,{key:t.character+t.outfit,props:t,attributes:e.props.attributes,selAttr:e.props.selAttr})}));t=n.a.createElement(n.a.Fragment,null,n.a.createElement("p",{className:"status"},this.state.status),a)}else t=n.a.createElement("p",{className:"status"},"Loading...");return n.a.createElement("div",{className:"outfitList"},t)}}]),a}(n.a.Component);function A(e){var t=e.props;return n.a.createElement("div",{className:"outfit"},n.a.createElement("span",null,"".concat(t.character," - ").concat(t.outfit)),n.a.createElement("hr",null),n.a.createElement(S,{attributes:e.attributes,props:e.props}),function(){if(e.selAttr.size>0){var a=Array.from(e.selAttr).reduce((function(e,a){return e+t[a.toLowerCase()]}),0);return n.a.createElement("span",null,"TOTAL BONUS: ".concat(a))}return null}())}function S(e){return n.a.createElement("div",{className:"attrList"},Object.keys(e.props).map((function(t){if(e.attributes.includes(t.charAt(0).toUpperCase()+t.slice(1)))return n.a.createElement("span",{key:t+e.props[t]},"".concat(t.charAt(0).toUpperCase()+t.slice(1),": ").concat(e.props[t]))})))}var T=function(e){Object(h.a)(a,e);var t=Object(f.a)(a);function a(e){var r;return Object(c.a)(this,a),(r=t.call(this,e)).state={characters:[],outfitTypes:[],units:[],attributes:["Ac","Pa","Un","Sm","Te","Ch"],selCharas:new Set,selOutfits:new Set,selUnits:new Set,selAttr:new Set,isInclusive:!1},r.toggleValueInSet=r.toggleValueInSet.bind(Object(u.a)(r)),r.toggleSearchTypeTrue=r.toggleSearchTypeTrue.bind(Object(u.a)(r)),r.toggleSearchTypeFalse=r.toggleSearchTypeFalse.bind(Object(u.a)(r)),r}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=this;fetch("https://sheets.googleapis.com/v4/spreadsheets/".concat(O,"/values/").concat("Validation Lists","?key=").concat(b,"&majorDimension=COLUMNS")).then((function(e){return e.json()})).then((function(t){var a=t.values,r=a.filter((function(e){return"Character"===e[0]})),n=a.filter((function(e){return"Outfit Type"===e[0]})),s=a.filter((function(e){return"Unit"===e[0]}));e.setState({characters:r[0],outfitTypes:n[0],units:s[0]})}))}},{key:"toggleValueInSet",value:function(){var e=this;return function(t){return function(a){var r=e.state[t];e.state[t].has(a.target.value)?r.delete(a.target.value):r.add(a.target.value),e.setState(Object(i.a)({},t,r))}}}},{key:"toggleSearchTypeTrue",value:function(){this.setState({isInclusive:!0})}},{key:"toggleSearchTypeFalse",value:function(){this.setState({isInclusive:!1})}},{key:"render",value:function(){var e=this,t={characters:this.state.characters,outfitTypes:this.state.outfitTypes,units:this.state.units,attributes:this.state.attributes,selCharas:this.state.selCharas,selOutfits:this.state.selOutfits,selUnits:this.state.selUnits,toggleValue:this.toggleValueInSet,toggleTrue:this.toggleSearchTypeTrue,toggleFalse:this.toggleSearchTypeFalse},a=Object.keys(this.state).reduce((function(t,a){var r=e.state[a];return Array.isArray(r)?t.concat([]):t.concat(Array.from(r))}),[]);a.push(this.state.isInclusive);var r={query:a,stringQuery:Object.keys(this.state).reduce((function(t,a){var r=e.state[a];return!Array.isArray(r)&&"object"===typeof r&&"selAttr"!==a&&r.size>0?(t.push(r),t):t}),[]),attributes:this.state.attributes,selCharas:this.state.selCharas,selOutfits:this.state.selOutfits,selUnits:this.state.selUnits,selAttr:this.state.selAttr,isInclusive:this.state.isInclusive};return n.a.createElement(n.a.Fragment,null,n.a.createElement(k,r),n.a.createElement(p,t))}}]),a}(n.a.Component);var C=function(){return n.a.createElement("div",{className:"App"},n.a.createElement(T,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(n.a.createElement(n.a.StrictMode,null,n.a.createElement(C,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[13,1,2]]]);
//# sourceMappingURL=main.e6e8da2d.chunk.js.map